{% extends "base.html" %}

{% block body %}
{% if msg %}
{{msg|safe}}
{% endif %}

<h2>Select a file to upload</h2>

<form method="post" action="{% url upload %}" enctype="multipart/form-data" id="sendform">
    {% csrf_token %}
    <div class="center">
        <input type="file" name="please" id="fileselect"/>
        <a href="#options" class="button" id="optionsa">Options</a>
    </div>
    <fieldset id="options">
        <label for="delete" class="classiclabel">Deletion password</label>
        <input type="password" id="delete" name="delete" class="classicinput"/>
        <label for="user" class="classiclabel">Uploader name</label>
        <input type="text" name="user" id="user" class="classicinput"/>
        <label for="description" class="clear">Description (up to 400 characters)</label>
        <textarea name="description" id="description"></textarea>
        {% if webseeds %}
        <label for="webseeds" class="clear">Web seeds (one per line)</label>
        <textarea name="webseeds" id="webseeds"></textarea>
        {% endif %}
        {% if trackers %}
        <label for="trackers" class="clear">Trackers (one per line)</label>
<textarea name="trackers" id="trackers">{% for tracker in default_trackers %}{{tracker}}
{% endfor %}</textarea>
            {% if private %}
            <p>You can choose to make the torrent private. This is usually for
            when you upload private documents that you do not want to share with anyone.</p>
            Private torrent? (You have to enter at least one valid tracker)
            <input type="checkbox" name="private" id="private"
            onclick="document.getElementById('private').checked &= document.getElementById('trackers').value.length != 0;" />
            {% endif %}
        {% endif %}
        {% if multifile %}
        <p>If the file is an archive, you can choose to extract it at upload, in order to have a multi-file torrent.</p>
        Extract archive? <input type="checkbox" name="extract"/>
        {% endif %}
    </fieldset>
    <div class="center">
        <input type="submit" id="send" value="Send file">
    </div>
</form>
{% endblock %}
